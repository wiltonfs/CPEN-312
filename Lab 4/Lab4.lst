                 -1   $MODDE0CV ; Special Function Registers declaration for CV-8052
0000              1   ;  MODDDE2: Register definition for DE2-8052 softcore
0000              2   ;
0000              3   ;   Copyright (C) 2011  Jesus Calvino-Fraga, jesusc at ece.ubc.ca
0000              4   ;
0000              5   ;   This library is free software; you can redistribute it and/or
0000              6   ;   modify it under the terms of the GNU Lesser General Public
0000              7   ;   License as published by the Free Software Foundation; either
0000              8   ;   version 2.1 of the License, or (at your option) any later version.
0000              9   ;
0000             10   ;   This library is distributed in the hope that it will be useful,
0000             11   ;   but WITHOUT ANY WARRANTY; without even the implied warranty of
0000             12   ;   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
0000             13   ;   Lesser General Public License for more details.
0000             14   ;
0000             15   ;   You should have received a copy of the GNU Lesser General Public
0000             16   ;   License along with this library; if not, write to the Free Software
0000             17   ;   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
0000             18   ;
0000             19       
0000             20   P0     DATA  080H  ;PORT 0
0000             21   SP     DATA  081H  ;STACK POINTER
0000             22   DPL    DATA  082H  ;DATA POINTER 0 - LOW BYTE
0000             23   DPH    DATA  083H  ;DATA POINTER 0 - HIGH BYTE
0000             24   DPL1   DATA  084H  ;DATA POINTER 1 - LOW BYTE
0000             25   DPH1   DATA  085H  ;DATA POINTER 1 - HIGH BYTE
0000             26   DPS    DATA  086H  ;DATA POINTER SELECT. DPH1, DPL1 active when DPS.0=1
0000             27   PCON   DATA  087H  ;POWER CONTROL
0000             28   TCON   DATA  088H  ;TIMER CONTROL
0000             29   TMOD   DATA  089H  ;TIMER MODE
0000             30   TL0    DATA  08AH  ;TIMER 0 - LOW BYTE
0000             31   TL1    DATA  08BH  ;TIMER 1 - LOW BYTE
0000             32   TH0    DATA  08CH  ;TIMER 0 - HIGH BYTE
0000             33   TH1    DATA  08DH  ;TIMER 1 - HIGH BYTE
0000             34   P1     DATA  090H  ;PORT 1
0000             35   SCON   DATA  098H  ;SERIAL PORT CONTROL
0000             36   SBUF   DATA  099H  ;SERIAL PORT BUFFER
0000             37   P2     DATA  0A0H  ;PORT 2
0000             38   IE     DATA  0A8H  ;INTERRUPT ENABLE
0000             39   P3     DATA  0B0H  ;PORT 3
0000             40   IP     DATA  0B8H  ;INTERRUPT PRIORITY
0000             41   T2CON  DATA  0C8H  ;TIMER 2 CONTROL
0000             42   T2MOD  DATA  0C9H  ;TIMER 2 MODE
0000             43   RCAP2L DATA  0CAH  ;TIMER 2 CAPTURE REGISTER - LOW BYTE
0000             44   RCAP2H DATA  0CBH  ;TIMER 2 CAPTURE REGISTER - HIGH BYTE
0000             45   TL2    DATA  0CCH  ;TIMER 2 - LOW BYTE
0000             46   TH2    DATA  0CDH  ;TIMER 2 - HIGH BYTE
0000             47   PSW    DATA  0D0H  ;PROGRAM STATUS WORD
0000             48   ACC    DATA  0E0H  ;ACCUMULATOR
0000             49   B      DATA  0F0H  ;MULTIPLICATION REGISTER
0000             50   IT0    BIT   088H  ;TCON.0 - EXT. INTERRUPT 0 TYPE
0000             51   IE0    BIT   089H  ;TCON.1 - EXT. INTERRUPT 0 EDGE FLAG
0000             52   IT1    BIT   08AH  ;TCON.2 - EXT. INTERRUPT 1 TYPE
0000             53   IE1    BIT   08BH  ;TCON.3 - EXT. INTERRUPT 1 EDGE FLAG
0000             54   TR0    BIT   08CH  ;TCON.4 - TIMER 0 ON/OFF CONTROL
0000             55   TF0    BIT   08DH  ;TCON.5 - TIMER 0 OVERFLOW FLAG
0000             56   TR1    BIT   08EH  ;TCON.6 - TIMER 1 ON/OFF CONTROL
0000             57   TF1    BIT   08FH  ;TCON.7 - TIMER 1 OVERFLOW FLAG
0000             58   RI     BIT   098H  ;SCON.0 - RECEIVE INTERRUPT FLAG
0000             59   TI     BIT   099H  ;SCON.1 - TRANSMIT INTERRUPT FLAG
0000             60   RB8    BIT   09AH  ;SCON.2 - RECEIVE BIT 8
0000             61   TB8    BIT   09BH  ;SCON.3 - TRANSMIT BIT 8
0000             62   REN    BIT   09CH  ;SCON.4 - RECEIVE ENABLE
0000             63   SM2    BIT   09DH  ;SCON.5 - SERIAL MODE CONTROL BIT 2
0000             64   SM1    BIT   09EH  ;SCON.6 - SERIAL MODE CONTROL BIT 1
0000             65   SM0    BIT   09FH  ;SCON.7 - SERIAL MODE CONTROL BIT 0
0000             66   EX0    BIT   0A8H  ;IE.0 - EXTERNAL INTERRUPT 0 ENABLE
0000             67   ET0    BIT   0A9H  ;IE.1 - TIMER 0 INTERRUPT ENABLE
0000             68   EX1    BIT   0AAH  ;IE.2 - EXTERNAL INTERRUPT 1 ENABLE
0000             69   ET1    BIT   0ABH  ;IE.3 - TIMER 1 INTERRUPT ENABLE
0000             70   ES     BIT   0ACH  ;IE.4 - SERIAL PORT INTERRUPT ENABLE
0000             71   ET2    BIT   0ADH  ;IE.5 - TIMER 2 INTERRUPT ENABLE
0000             72   EA     BIT   0AFH  ;IE.7 - GLOBAL INTERRUPT ENABLE
0000             73   RXD    BIT   0B0H  ;P3.0 - SERIAL PORT RECEIVE INPUT
0000             74   TXD    BIT   0B1H  ;P3.1 - SERIAL PORT TRANSMIT OUTPUT
0000             75   INT0   BIT   0B2H  ;P3.2 - EXTERNAL INTERRUPT 0 INPUT
0000             76   INT1   BIT   0B3H  ;P3.3 - EXTERNAL INTERRUPT 1 INPUT
0000             77   T0     BIT   0B4H  ;P3.4 - TIMER 0 COUNT INPUT
0000             78   T1     BIT   0B5H  ;P3.5 - TIMER 1 COUNT INPUT
0000             79   WR     BIT   0B6H  ;P3.6 - WRITE CONTROL FOR EXT. MEMORY
0000             80   RD     BIT   0B7H  ;P3.7 - READ CONTROL FOR EXT. MEMORY
0000             81   PX0    BIT   0B8H  ;IP.0 - EXTERNAL INTERRUPT 0 PRIORITY
0000             82   PT0    BIT   0B9H  ;IP.1 - TIMER 0 PRIORITY
0000             83   PX1    BIT   0BAH  ;IP.2 - EXTERNAL INTERRUPT 1 PRIORITY
0000             84   PT1    BIT   0BBH  ;IP.3 - TIMER 1 PRIORITY
0000             85   PS     BIT   0BCH  ;IP.4 - SERIAL PORT PRIORITY
0000             86   PT2    BIT   0BDH  ;IP.5 - TIMER 2 PRIORITY
0000             87   CAP2   BIT   0C8H  ;T2CON.0 - CAPTURE OR RELOAD SELECT
0000             88   CNT2   BIT   0C9H  ;T2CON.1 - TIMER OR COUNTER SELECT
0000             89   TR2    BIT   0CAH  ;T2CON.2 - TIMER 2 ON/OFF CONTROL
0000             90   EXEN2  BIT   0CBH  ;T2CON.3 - TIMER 2 EXTERNAL ENABLE FLAG
0000             91   TCLK   BIT   0CCH  ;T2CON.4 - TRANSMIT CLOCK SELECT
0000             92   RCLK   BIT   0CDH  ;T2CON.5 - RECEIVE CLOCK SELECTT
0000             93   EXF2   BIT   0CEH  ;T2CON.6 - EXTERNAL TRANSITION FLAG
0000             94   TF2    BIT   0CFH  ;T2CON.7 - TIMER 2 OVERFLOW FLAG
0000             95   P      BIT   0D0H  ;PSW.0 - ACCUMULATOR PARITY FLAG
0000             96   OV     BIT   0D2H  ;PSW.2 - OVERFLOW FLAG
0000             97   RS0    BIT   0D3H  ;PSW.3 - REGISTER BANK SELECT 0
0000             98   RS1    BIT   0D4H  ;PSW.4 - REGISTER BANK SELECT 1
0000             99   F0     BIT   0D5H  ;PSW.5 - FLAG 0
0000            100   AC     BIT   0D6H  ;PSW.6 - AUXILIARY CARRY FLAG
0000            101   CY     BIT   0D7H  ;PSW.7 - CARRY FLAG
0000            102   
0000            103   ; For the altera DE2 configured with an 8051/8052 softcore processor
0000            104   ; we have the following extra registers:
0000            105   
0000            106   HEX0   DATA  091H ; Zero turns the segment on
0000            107   HEX1   DATA  092H ; 
0000            108   HEX2   DATA  093H ; 
0000            109   HEX3   DATA  094H ; 
0000            110   HEX4   DATA  08EH ;
0000            111   HEX5   DATA  08FH ;
0000            112   HEX6   DATA  096H ;
0000            113   HEX7   DATA  097H ;
0000            114   
0000            115   P0MOD  DATA  09AH ; Input/output mode bits for port 0.  '1' sets the port to output mode.
0000            116   P1MOD  DATA  09BH ; Input/output mode bits for port 1
0000            117   P2MOD  DATA  09CH ; Input/output mode bits for port 2
0000            118   P3MOD  DATA  09DH ; Input/output mode bits for port 3
0000            119   
0000            120   LEDRA  DATA  0E8H ; LEDs LEDR0 to LEDR7 (bit addressable, ex: LEDRA.1 for LEDR1)
0000            121   LEDRB  DATA  095H ; LEDs LEDR8 to LEDR15
0000            122   LEDRC  DATA  09EH ; LEDs LEDR16, LEDR15, and LEDG8
0000            123   LEDG   DATA  0F8H ; LEDs LEDG0 to LEDG7 (bit addressable, ex: LEDG.3 for LEDG3)
0000            124   SWA    DATA  0E8H ; Switches SW0 to SW7 (bit addressable, ex: SWA.1 for SW1)
0000            125   SWB    DATA  095H ; Switches SW8 to SW15
0000            126   SWC    DATA  09EH ; Switches SW16 and SW17
0000            127   KEY    DATA  0F8H ; KEY1=KEY.1, KEY2=KEY.2, KEY3=KEY.3.  KEY0 is the reset button! 
0000            128   
0000            129   LCD_CMD   DATA 0D8H ;
0000            130   LCD_DATA  DATA 0D9H ;
0000            131   LCD_MOD   DATA 0DAH ; Write 0xff to make LCD_DATA an output
0000            132   LCD_RW    BIT  0D8H ; '0' writes to LCD
0000            133   LCD_EN    BIT  0D9H ; Toggle from '1' to '0'
0000            134   LCD_RS    BIT  0DAH ; '0' for commands, '1' for data
0000            135   LCD_ON    BIT  0DBH ; Write '1' to power the LCD
0000            136   LCD_BLON  BIT  0DCH ; Write '1' to turn on back light
0000            137   
0000            138   FLASH_CMD  data 0DBH ; The control bits of the flash memory:
0000            139   ; bit 0: FL_RST_N  Set to 1 for normal operation
0000            140   ; bit 1: FL_WE_N
0000            141   ; bit 2: FL_OE_N
0000            142   ; bit 3: FL_CE_N
0000            143   FLASH_DATA data 0DCH ; 8-bit data bus of flash memory.
0000            144   FLASH_MOD  data 0DDH ; 0xff makes FLASH_DATA output.  0x00 makes FLASH_DATA input.
0000            145   FLASH_ADD0 data 0E1H ; address bits 0 to 7.
0000            146   FLASH_ADD1 data 0E2H ; address bits 8 to 15.
0000            147   FLASH_ADD2 data 0E3H ; address bits 16 to 21.
0000            148   
0000              2   
0000              3   org 0000H ; Which code memory location to start at after reset
0000 020010       4            ljmp pgrmstart  ; jump down to the label called "pgrmstart"
0003              5   
0003              6   ;These three values are associated with the timing of the circuit
0003              7   ;Tune them to set the "heartbeat" of the program
0003              8   ;The time between "heartbeats" is a function of product of these three
0003              9   ;But none of them can be over 255 (8 bit)
0003             10   S_TICKS EQU #100
0003             11   M_TICKS EQU #100
0003             12   L_TICKS EQU #150
0003             13   
0003             14   ; Look-up table for my student number, blank, and HELLO
0003             15   ; My student num: 48059760
0003             16   T_StuNum:
0003             17            ;       0       6         7        9    5        0        8        4    
0003 40027810    18            DB 40H, 02H, 78H, 10H, 12H, 40H, 00H, 19H
     12400019
000B             19            ; BLANK
000B 7F          20            DB 7FH
000C             21            ;   H    E        L        O
000C 8986C740    22            DB 89H, 86H, 0xC7H, 40H
0010             23   
0010             24   ;This is a "function", it takes two parameters. These parameters can be accessed using %0 and %1
                 25   Display_on mac
                 26   	mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
                 27   	
                 28   	mov dptr, #T_StuNum ; point to student number lookup table
                 29   	mov a, %1 ; Load second input into accumulator
                 30   	movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
                 31   	
                 32   	mov %0, a ; Display number to given (first input) register
                 33   
                 34   	mov a, b ; Restore value of accumulator (just in case I was doing something important before)
                 35   endmac
0010             36   
0010             37   ;This is a "function", it takes no parameters. It just displays the first 6 digits of my student number
                 38   Most_sig mac
                 39   	Display_on(r4, #00)
                 40   	Display_on(r5, #01)
                 41   	Display_on(HEX0, #02)
                 42   	Display_on(HEX1, #03)
                 43   	Display_on(HEX2, #04)
                 44   	Display_on(HEX3, #05)
                 45   	Display_on(HEX4, #06)
                 46   	Display_on(HEX5, #07)
                 47   endmac
0010             48   
0010             49   ;This is a "function", it takes no parameters. It just displays all blank
                 50   All_blnk mac
                 51   	Display_on(HEX0, #08)
                 52   	Display_on(HEX1, #08)
                 53   	Display_on(HEX2, #08)
                 54   	Display_on(HEX3, #08)
                 55   	Display_on(HEX4, #08)
                 56   	Display_on(HEX5, #08)
                 57   endmac
0010             58   
0010             59   ;This is a "function", it takes no parameters. It just displays the last 6 digits of my student number
                 60   Least_sig mac
                 61   	Display_on(HEX0, #00)
                 62   	Display_on(HEX1, #01)
                 63   	Display_on(HEX2, #02)
                 64   	Display_on(HEX3, #03)
                 65   	Display_on(HEX4, #04)
                 66   	Display_on(HEX5, #05)
                 67   endmac
0010             68   
0010             69   ;This is a "function", it takes no parameters. It just displays HELLO
                 70   Hello mac
                 71   	Display_on(HEX0, #08H)
                 72   	Display_on(HEX1, #0CH)
                 73   	Display_on(HEX2, #0BH)
                 74   	Display_on(HEX3, #0BH)
                 75   	Display_on(HEX4, #0AH)
                 76   	Display_on(HEX5, #09H)
                 77   endmac
0010             78   
0010             79   ;This is a "function", it takes no parameters. It just displays the custom display for mode 7
                 80   Custom_disp mac
                 81   	; remove 03 and 06
                 82   	Display_on(HEX0, #00)
                 83   	Display_on(HEX1, #01)
                 84   	Display_on(HEX2, #02)
                 85   	Display_on(HEX3, #04)
                 86   	Display_on(HEX4, #05)
                 87   	Display_on(HEX5, #07)
                 88   endmac
0010             89   
                 90   Scrll_left mac
                 91   	mov b, r5 ; "temp" keep
                 92   	
                 93   	mov a, r4
                 94   	mov r5, a
                 95   	mov r4, HEX5
                 96   	mov HEX5, HEX4
                 97   	mov HEX4, HEX3
                 98   	mov HEX3, HEX2
                 99   	mov HEX2, HEX1
                100   	mov HEX1, HEX0
                101   	mov HEX0, b
                102   endmac
0010            103   
                104   Scrll_right mac
                105   	mov b, HEX0 ; "temp" keep
                106   	
                107   	mov HEX0, HEX1
                108   	mov HEX1, HEX2
                109   	mov HEX2, HEX3
                110   	mov HEX3, HEX4
                111   	mov HEX4, HEX5
                112   	mov HEX5, r4
                113   	mov a, r5
                114   	mov r4, a
                115   	mov r5, b
                116   endmac
0010            117   
0010            118   ; The code under this label runs once, when the program starts
0010            119   pgrmstart:
0010            120            ; Turns off LEDs and stuff
0010 75817F     121            mov SP, #0x7f
0013 75E800     122            mov LEDRA, #0 ; Bit addressable
0016 759500     123            mov LEDRB, #0 ; Not bit addressable
0019            124            
0019            125            ; Start timer
0019 7964       126            mov r1, S_TICKS
001B 7A64       127            mov r2, M_TICKS
001D 7B96       128            mov r3, L_TICKS
001F            129            
001F            130            ; Mode 0 by default, display first 6 digits
001F F5F0       131            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0021            131            
0021 900003     131            mov dptr, #T_StuNum ; point to student number lookup table
0024 7400       131            mov a, #00 ; Load second input into accumulator
0026 93         131            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0027            131            
0027 FC         131            mov r4, a ; Display number to given (first input) register
0028            131   
0028 E5F0       131            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
002A F5F0       131            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
002C            131            
002C 900003     131            mov dptr, #T_StuNum ; point to student number lookup table
002F 7401       131            mov a, #01 ; Load second input into accumulator
0031 93         131            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0032            131            
0032 FD         131            mov r5, a ; Display number to given (first input) register
0033            131   
0033 E5F0       131            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0035 F5F0       131            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0037            131            
0037 900003     131            mov dptr, #T_StuNum ; point to student number lookup table
003A 7402       131            mov a, #02 ; Load second input into accumulator
003C 93         131            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
003D            131            
003D F591       131            mov HEX0, a ; Display number to given (first input) register
003F            131   
003F E5F0       131            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0041 F5F0       131            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0043            131            
0043 900003     131            mov dptr, #T_StuNum ; point to student number lookup table
0046 7403       131            mov a, #03 ; Load second input into accumulator
0048 93         131            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0049            131            
0049 F592       131            mov HEX1, a ; Display number to given (first input) register
004B            131   
004B E5F0       131            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
004D F5F0       131            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
004F            131            
004F 900003     131            mov dptr, #T_StuNum ; point to student number lookup table
0052 7404       131            mov a, #04 ; Load second input into accumulator
0054 93         131            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0055            131            
0055 F593       131            mov HEX2, a ; Display number to given (first input) register
0057            131   
0057 E5F0       131            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0059 F5F0       131            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
005B            131            
005B 900003     131            mov dptr, #T_StuNum ; point to student number lookup table
005E 7405       131            mov a, #05 ; Load second input into accumulator
0060 93         131            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0061            131            
0061 F594       131            mov HEX3, a ; Display number to given (first input) register
0063            131   
0063 E5F0       131            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0065 F5F0       131            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0067            131            
0067 900003     131            mov dptr, #T_StuNum ; point to student number lookup table
006A 7406       131            mov a, #06 ; Load second input into accumulator
006C 93         131            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
006D            131            
006D F58E       131            mov HEX4, a ; Display number to given (first input) register
006F            131   
006F E5F0       131            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0071 F5F0       131            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0073            131            
0073 900003     131            mov dptr, #T_StuNum ; point to student number lookup table
0076 7407       131            mov a, #07 ; Load second input into accumulator
0078 93         131            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0079            131            
0079 F58F       131            mov HEX5, a ; Display number to given (first input) register
007B            131   
007B E5F0       131            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
007D            132            
007D            133   ; The code under this label runs continuously
007D            134   loop:
007D            135            ; Latching logic
007D 20FB03     136            jb key.3, ENDLATCHtmp   ; jump if bit 3 of switch is = 1
0080 020086     137            ljmp LATCHLOGIC
0083 020352     138   ENDLATCHtmp: ljmp ENDLATCH       ; I have to do this weird jumping bc jb can only jump up to 127 lines
0086            139   
0086            140   ; The code under this label has to do with latching our mode, and updating the display
0086            141   ; to the "first frame" of that mode
0086            142   LATCHLOGIC:
0086            143            ; Evaluate initial display depending on mode
0086 E5E8       144            mov a, SWA                                                      
0088 5407       145            ANL a, #07                              ; strip A to only the least significant 3 values by ANDing it with 00000111 (Not strictly nesc.)
008A F8         146            mov r0, a                               ; store switch values in r0
008B            147            ; Think of this as a big Switch statement that finds what mode we are in
008B            148            ; There is a better way to do this, as a lot of the modes have the same start
008B            149            ; However, to start with this is a more clear way to see what is going on
008B B80061     150            CJNE r0, #00, MODE1             ; jump if r0 != byte
008E            151            ; Mode 0
008E F5F0       152            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0090            152            
0090 900003     152            mov dptr, #T_StuNum ; point to student number lookup table
0093 7400       152            mov a, #00 ; Load second input into accumulator
0095 93         152            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0096            152            
0096 FC         152            mov r4, a ; Display number to given (first input) register
0097            152   
0097 E5F0       152            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0099 F5F0       152            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
009B            152            
009B 900003     152            mov dptr, #T_StuNum ; point to student number lookup table
009E 7401       152            mov a, #01 ; Load second input into accumulator
00A0 93         152            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
00A1            152            
00A1 FD         152            mov r5, a ; Display number to given (first input) register
00A2            152   
00A2 E5F0       152            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
00A4 F5F0       152            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
00A6            152            
00A6 900003     152            mov dptr, #T_StuNum ; point to student number lookup table
00A9 7402       152            mov a, #02 ; Load second input into accumulator
00AB 93         152            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
00AC            152            
00AC F591       152            mov HEX0, a ; Display number to given (first input) register
00AE            152   
00AE E5F0       152            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
00B0 F5F0       152            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
00B2            152            
00B2 900003     152            mov dptr, #T_StuNum ; point to student number lookup table
00B5 7403       152            mov a, #03 ; Load second input into accumulator
00B7 93         152            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
00B8            152            
00B8 F592       152            mov HEX1, a ; Display number to given (first input) register
00BA            152   
00BA E5F0       152            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
00BC F5F0       152            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
00BE            152            
00BE 900003     152            mov dptr, #T_StuNum ; point to student number lookup table
00C1 7404       152            mov a, #04 ; Load second input into accumulator
00C3 93         152            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
00C4            152            
00C4 F593       152            mov HEX2, a ; Display number to given (first input) register
00C6            152   
00C6 E5F0       152            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
00C8 F5F0       152            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
00CA            152            
00CA 900003     152            mov dptr, #T_StuNum ; point to student number lookup table
00CD 7405       152            mov a, #05 ; Load second input into accumulator
00CF 93         152            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
00D0            152            
00D0 F594       152            mov HEX3, a ; Display number to given (first input) register
00D2            152   
00D2 E5F0       152            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
00D4 F5F0       152            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
00D6            152            
00D6 900003     152            mov dptr, #T_StuNum ; point to student number lookup table
00D9 7406       152            mov a, #06 ; Load second input into accumulator
00DB 93         152            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
00DC            152            
00DC F58E       152            mov HEX4, a ; Display number to given (first input) register
00DE            152   
00DE E5F0       152            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
00E0 F5F0       152            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
00E2            152            
00E2 900003     152            mov dptr, #T_StuNum ; point to student number lookup table
00E5 7407       152            mov a, #07 ; Load second input into accumulator
00E7 93         152            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
00E8            152            
00E8 F58F       152            mov HEX5, a ; Display number to given (first input) register
00EA            152   
00EA E5F0       152            mov a, b ; Restore value of accumulator (just in case I was doing something important before) ; display first 6 digits
00EC            153            
00EC 020352     154            ljmp ENDLATCH   
00EF B80163     155   MODE1:   CJNE r0, #01, MODE2             ; jump if A != byte 
00F2            156            ; Mode 1
00F2 F5F0       157            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
00F4            157            
00F4 900003     157            mov dptr, #T_StuNum ; point to student number lookup table
00F7 7408       157            mov a, #08 ; Load second input into accumulator
00F9 93         157            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
00FA            157            
00FA F591       157            mov HEX0, a ; Display number to given (first input) register
00FC            157   
00FC E5F0       157            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
00FE F5F0       157            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0100            157            
0100 900003     157            mov dptr, #T_StuNum ; point to student number lookup table
0103 7408       157            mov a, #08 ; Load second input into accumulator
0105 93         157            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0106            157            
0106 F592       157            mov HEX1, a ; Display number to given (first input) register
0108            157   
0108 E5F0       157            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
010A F5F0       157            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
010C            157            
010C 900003     157            mov dptr, #T_StuNum ; point to student number lookup table
010F 7408       157            mov a, #08 ; Load second input into accumulator
0111 93         157            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0112            157            
0112 F593       157            mov HEX2, a ; Display number to given (first input) register
0114            157   
0114 E5F0       157            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0116 F5F0       157            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0118            157            
0118 900003     157            mov dptr, #T_StuNum ; point to student number lookup table
011B 7408       157            mov a, #08 ; Load second input into accumulator
011D 93         157            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
011E            157            
011E F594       157            mov HEX3, a ; Display number to given (first input) register
0120            157   
0120 E5F0       157            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0122 F5F0       157            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0124            157            
0124 900003     157            mov dptr, #T_StuNum ; point to student number lookup table
0127 7408       157            mov a, #08 ; Load second input into accumulator
0129 93         157            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
012A            157            
012A F58E       157            mov HEX4, a ; Display number to given (first input) register
012C            157   
012C E5F0       157            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
012E F5F0       157            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0130            157            
0130 900003     157            mov dptr, #T_StuNum ; point to student number lookup table
0133 7408       157            mov a, #08 ; Load second input into accumulator
0135 93         157            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0136            157            
0136 F58F       157            mov HEX5, a ; Display number to given (first input) register
0138            157   
0138 E5F0       157            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
013A F5F0       158            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
013C            158            
013C 900003     158            mov dptr, #T_StuNum ; point to student number lookup table
013F 7400       158            mov a, #00 ; Load second input into accumulator
0141 93         158            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0142            158            
0142 F591       158            mov HEX0, a ; Display number to given (first input) register
0144            158   
0144 E5F0       158            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0146 F5F0       159            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0148            159            
0148 900003     159            mov dptr, #T_StuNum ; point to student number lookup table
014B 7401       159            mov a, #01 ; Load second input into accumulator
014D 93         159            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
014E            159            
014E F592       159            mov HEX1, a ; Display number to given (first input) register
0150            159   
0150 E5F0       159            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0152            160                    
0152 020352     161            ljmp ENDLATCH
0155 B80261     162   MODE2:   CJNE r0, #02, MODE3             ; jump if A != byte 
0158            163            ; Mode 2
0158 F5F0       164            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
015A            164            
015A 900003     164            mov dptr, #T_StuNum ; point to student number lookup table
015D 7400       164            mov a, #00 ; Load second input into accumulator
015F 93         164            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0160            164            
0160 FC         164            mov r4, a ; Display number to given (first input) register
0161            164   
0161 E5F0       164            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0163 F5F0       164            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0165            164            
0165 900003     164            mov dptr, #T_StuNum ; point to student number lookup table
0168 7401       164            mov a, #01 ; Load second input into accumulator
016A 93         164            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
016B            164            
016B FD         164            mov r5, a ; Display number to given (first input) register
016C            164   
016C E5F0       164            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
016E F5F0       164            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0170            164            
0170 900003     164            mov dptr, #T_StuNum ; point to student number lookup table
0173 7402       164            mov a, #02 ; Load second input into accumulator
0175 93         164            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0176            164            
0176 F591       164            mov HEX0, a ; Display number to given (first input) register
0178            164   
0178 E5F0       164            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
017A F5F0       164            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
017C            164            
017C 900003     164            mov dptr, #T_StuNum ; point to student number lookup table
017F 7403       164            mov a, #03 ; Load second input into accumulator
0181 93         164            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0182            164            
0182 F592       164            mov HEX1, a ; Display number to given (first input) register
0184            164   
0184 E5F0       164            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0186 F5F0       164            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0188            164            
0188 900003     164            mov dptr, #T_StuNum ; point to student number lookup table
018B 7404       164            mov a, #04 ; Load second input into accumulator
018D 93         164            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
018E            164            
018E F593       164            mov HEX2, a ; Display number to given (first input) register
0190            164   
0190 E5F0       164            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0192 F5F0       164            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0194            164            
0194 900003     164            mov dptr, #T_StuNum ; point to student number lookup table
0197 7405       164            mov a, #05 ; Load second input into accumulator
0199 93         164            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
019A            164            
019A F594       164            mov HEX3, a ; Display number to given (first input) register
019C            164   
019C E5F0       164            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
019E F5F0       164            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
01A0            164            
01A0 900003     164            mov dptr, #T_StuNum ; point to student number lookup table
01A3 7406       164            mov a, #06 ; Load second input into accumulator
01A5 93         164            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
01A6            164            
01A6 F58E       164            mov HEX4, a ; Display number to given (first input) register
01A8            164   
01A8 E5F0       164            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
01AA F5F0       164            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
01AC            164            
01AC 900003     164            mov dptr, #T_StuNum ; point to student number lookup table
01AF 7407       164            mov a, #07 ; Load second input into accumulator
01B1 93         164            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
01B2            164            
01B2 F58F       164            mov HEX5, a ; Display number to given (first input) register
01B4            164   
01B4 E5F0       164            mov a, b ; Restore value of accumulator (just in case I was doing something important before) ; display first 6 digits
01B6 020352     165            ljmp ENDLATCH
01B9 B80361     166   MODE3:   CJNE r0, #03, MODE4             ; jump if A != byte 
01BC            167            ; Mode 3
01BC F5F0       168            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
01BE            168            
01BE 900003     168            mov dptr, #T_StuNum ; point to student number lookup table
01C1 7400       168            mov a, #00 ; Load second input into accumulator
01C3 93         168            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
01C4            168            
01C4 FC         168            mov r4, a ; Display number to given (first input) register
01C5            168   
01C5 E5F0       168            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
01C7 F5F0       168            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
01C9            168            
01C9 900003     168            mov dptr, #T_StuNum ; point to student number lookup table
01CC 7401       168            mov a, #01 ; Load second input into accumulator
01CE 93         168            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
01CF            168            
01CF FD         168            mov r5, a ; Display number to given (first input) register
01D0            168   
01D0 E5F0       168            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
01D2 F5F0       168            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
01D4            168            
01D4 900003     168            mov dptr, #T_StuNum ; point to student number lookup table
01D7 7402       168            mov a, #02 ; Load second input into accumulator
01D9 93         168            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
01DA            168            
01DA F591       168            mov HEX0, a ; Display number to given (first input) register
01DC            168   
01DC E5F0       168            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
01DE F5F0       168            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
01E0            168            
01E0 900003     168            mov dptr, #T_StuNum ; point to student number lookup table
01E3 7403       168            mov a, #03 ; Load second input into accumulator
01E5 93         168            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
01E6            168            
01E6 F592       168            mov HEX1, a ; Display number to given (first input) register
01E8            168   
01E8 E5F0       168            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
01EA F5F0       168            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
01EC            168            
01EC 900003     168            mov dptr, #T_StuNum ; point to student number lookup table
01EF 7404       168            mov a, #04 ; Load second input into accumulator
01F1 93         168            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
01F2            168            
01F2 F593       168            mov HEX2, a ; Display number to given (first input) register
01F4            168   
01F4 E5F0       168            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
01F6 F5F0       168            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
01F8            168            
01F8 900003     168            mov dptr, #T_StuNum ; point to student number lookup table
01FB 7405       168            mov a, #05 ; Load second input into accumulator
01FD 93         168            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
01FE            168            
01FE F594       168            mov HEX3, a ; Display number to given (first input) register
0200            168   
0200 E5F0       168            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0202 F5F0       168            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0204            168            
0204 900003     168            mov dptr, #T_StuNum ; point to student number lookup table
0207 7406       168            mov a, #06 ; Load second input into accumulator
0209 93         168            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
020A            168            
020A F58E       168            mov HEX4, a ; Display number to given (first input) register
020C            168   
020C E5F0       168            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
020E F5F0       168            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0210            168            
0210 900003     168            mov dptr, #T_StuNum ; point to student number lookup table
0213 7407       168            mov a, #07 ; Load second input into accumulator
0215 93         168            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0216            168            
0216 F58F       168            mov HEX5, a ; Display number to given (first input) register
0218            168   
0218 E5F0       168            mov a, b ; Restore value of accumulator (just in case I was doing something important before) ; display first 6 digits
021A 020352     169            ljmp ENDLATCH
021D B8044B     170   MODE4:   CJNE r0, #04, MODE5             ; jump if A != byte 
0220            171            ; Mode 4
0220 F5F0       172            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0222            172            
0222 900003     172            mov dptr, #T_StuNum ; point to student number lookup table
0225 7400       172            mov a, #00 ; Load second input into accumulator
0227 93         172            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0228            172            
0228 F591       172            mov HEX0, a ; Display number to given (first input) register
022A            172   
022A E5F0       172            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
022C F5F0       172            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
022E            172            
022E 900003     172            mov dptr, #T_StuNum ; point to student number lookup table
0231 7401       172            mov a, #01 ; Load second input into accumulator
0233 93         172            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0234            172            
0234 F592       172            mov HEX1, a ; Display number to given (first input) register
0236            172   
0236 E5F0       172            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0238 F5F0       172            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
023A            172            
023A 900003     172            mov dptr, #T_StuNum ; point to student number lookup table
023D 7402       172            mov a, #02 ; Load second input into accumulator
023F 93         172            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0240            172            
0240 F593       172            mov HEX2, a ; Display number to given (first input) register
0242            172   
0242 E5F0       172            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0244 F5F0       172            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0246            172            
0246 900003     172            mov dptr, #T_StuNum ; point to student number lookup table
0249 7403       172            mov a, #03 ; Load second input into accumulator
024B 93         172            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
024C            172            
024C F594       172            mov HEX3, a ; Display number to given (first input) register
024E            172   
024E E5F0       172            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0250 F5F0       172            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0252            172            
0252 900003     172            mov dptr, #T_StuNum ; point to student number lookup table
0255 7404       172            mov a, #04 ; Load second input into accumulator
0257 93         172            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0258            172            
0258 F58E       172            mov HEX4, a ; Display number to given (first input) register
025A            172   
025A E5F0       172            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
025C F5F0       172            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
025E            172            
025E 900003     172            mov dptr, #T_StuNum ; point to student number lookup table
0261 7405       172            mov a, #05 ; Load second input into accumulator
0263 93         172            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0264            172            
0264 F58F       172            mov HEX5, a ; Display number to given (first input) register
0266            172   
0266 E5F0       172            mov a, b ; Restore value of accumulator (just in case I was doing something important before) ; display last 6 digits
0268 020352     173            ljmp ENDLATCH
026B B8054B     174   MODE5:   CJNE r0, #05, MODE6             ; jump if A != byte 
026E            175            ; Mode 5
026E F5F0       176            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0270            176            
0270 900003     176            mov dptr, #T_StuNum ; point to student number lookup table
0273 7408       176            mov a, #08 ; Load second input into accumulator
0275 93         176            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0276            176            
0276 F591       176            mov HEX0, a ; Display number to given (first input) register
0278            176   
0278 E5F0       176            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
027A F5F0       176            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
027C            176            
027C 900003     176            mov dptr, #T_StuNum ; point to student number lookup table
027F 7408       176            mov a, #08 ; Load second input into accumulator
0281 93         176            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0282            176            
0282 F592       176            mov HEX1, a ; Display number to given (first input) register
0284            176   
0284 E5F0       176            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0286 F5F0       176            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0288            176            
0288 900003     176            mov dptr, #T_StuNum ; point to student number lookup table
028B 7408       176            mov a, #08 ; Load second input into accumulator
028D 93         176            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
028E            176            
028E F593       176            mov HEX2, a ; Display number to given (first input) register
0290            176   
0290 E5F0       176            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0292 F5F0       176            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0294            176            
0294 900003     176            mov dptr, #T_StuNum ; point to student number lookup table
0297 7408       176            mov a, #08 ; Load second input into accumulator
0299 93         176            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
029A            176            
029A F594       176            mov HEX3, a ; Display number to given (first input) register
029C            176   
029C E5F0       176            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
029E F5F0       176            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
02A0            176            
02A0 900003     176            mov dptr, #T_StuNum ; point to student number lookup table
02A3 7408       176            mov a, #08 ; Load second input into accumulator
02A5 93         176            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
02A6            176            
02A6 F58E       176            mov HEX4, a ; Display number to given (first input) register
02A8            176   
02A8 E5F0       176            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
02AA F5F0       176            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
02AC            176            
02AC 900003     176            mov dptr, #T_StuNum ; point to student number lookup table
02AF 7408       176            mov a, #08 ; Load second input into accumulator
02B1 93         176            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
02B2            176            
02B2 F58F       176            mov HEX5, a ; Display number to given (first input) register
02B4            176   
02B4 E5F0       176            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
02B6            177            
02B6 020352     178            ljmp ENDLATCH
02B9 B8064B     179   MODE6:   CJNE r0, #06, MODE7             ; jump if A != byte 
02BC            180            ; Mode 6
02BC F5F0       181            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
02BE            181            
02BE 900003     181            mov dptr, #T_StuNum ; point to student number lookup table
02C1 7408       181            mov a, #08H ; Load second input into accumulator
02C3 93         181            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
02C4            181            
02C4 F591       181            mov HEX0, a ; Display number to given (first input) register
02C6            181   
02C6 E5F0       181            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
02C8 F5F0       181            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
02CA            181            
02CA 900003     181            mov dptr, #T_StuNum ; point to student number lookup table
02CD 740C       181            mov a, #0CH ; Load second input into accumulator
02CF 93         181            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
02D0            181            
02D0 F592       181            mov HEX1, a ; Display number to given (first input) register
02D2            181   
02D2 E5F0       181            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
02D4 F5F0       181            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
02D6            181            
02D6 900003     181            mov dptr, #T_StuNum ; point to student number lookup table
02D9 740B       181            mov a, #0BH ; Load second input into accumulator
02DB 93         181            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
02DC            181            
02DC F593       181            mov HEX2, a ; Display number to given (first input) register
02DE            181   
02DE E5F0       181            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
02E0 F5F0       181            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
02E2            181            
02E2 900003     181            mov dptr, #T_StuNum ; point to student number lookup table
02E5 740B       181            mov a, #0BH ; Load second input into accumulator
02E7 93         181            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
02E8            181            
02E8 F594       181            mov HEX3, a ; Display number to given (first input) register
02EA            181   
02EA E5F0       181            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
02EC F5F0       181            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
02EE            181            
02EE 900003     181            mov dptr, #T_StuNum ; point to student number lookup table
02F1 740A       181            mov a, #0AH ; Load second input into accumulator
02F3 93         181            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
02F4            181            
02F4 F58E       181            mov HEX4, a ; Display number to given (first input) register
02F6            181   
02F6 E5F0       181            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
02F8 F5F0       181            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
02FA            181            
02FA 900003     181            mov dptr, #T_StuNum ; point to student number lookup table
02FD 7409       181            mov a, #09H ; Load second input into accumulator
02FF 93         181            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0300            181            
0300 F58F       181            mov HEX5, a ; Display number to given (first input) register
0302            181   
0302 E5F0       181            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0304            182            
0304 020352     183            ljmp ENDLATCH
0307            184   MODE7:   ; this should be the "else" case
0307            185            ; Mode 7
0307            186            ; remove 03 and 06
0307 F5F0       186            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0309            186            
0309 900003     186            mov dptr, #T_StuNum ; point to student number lookup table
030C 7400       186            mov a, #00 ; Load second input into accumulator
030E 93         186            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
030F            186            
030F F591       186            mov HEX0, a ; Display number to given (first input) register
0311            186   
0311 E5F0       186            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0313 F5F0       186            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0315            186            
0315 900003     186            mov dptr, #T_StuNum ; point to student number lookup table
0318 7401       186            mov a, #01 ; Load second input into accumulator
031A 93         186            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
031B            186            
031B F592       186            mov HEX1, a ; Display number to given (first input) register
031D            186   
031D E5F0       186            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
031F F5F0       186            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0321            186            
0321 900003     186            mov dptr, #T_StuNum ; point to student number lookup table
0324 7402       186            mov a, #02 ; Load second input into accumulator
0326 93         186            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0327            186            
0327 F593       186            mov HEX2, a ; Display number to given (first input) register
0329            186   
0329 E5F0       186            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
032B F5F0       186            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
032D            186            
032D 900003     186            mov dptr, #T_StuNum ; point to student number lookup table
0330 7404       186            mov a, #04 ; Load second input into accumulator
0332 93         186            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
0333            186            
0333 F594       186            mov HEX3, a ; Display number to given (first input) register
0335            186   
0335 E5F0       186            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0337 F5F0       186            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0339            186            
0339 900003     186            mov dptr, #T_StuNum ; point to student number lookup table
033C 7405       186            mov a, #05 ; Load second input into accumulator
033E 93         186            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
033F            186            
033F F58E       186            mov HEX4, a ; Display number to given (first input) register
0341            186   
0341 E5F0       186            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
0343 F5F0       186            mov b, a ; Preserve value of accumulator (just in case I was doing something important before)
0345            186            
0345 900003     186            mov dptr, #T_StuNum ; point to student number lookup table
0348 7407       186            mov a, #07 ; Load second input into accumulator
034A 93         186            movc a, @dptr+a ; Read from table with the input offset. movc means reading from the code dataspace, and the @ is a dereference thing bc its a pointer
034B            186            
034B F58F       186            mov HEX5, a ; Display number to given (first input) register
034D            186   
034D E5F0       186            mov a, b ; Restore value of accumulator (just in case I was doing something important before)
034F            187            
034F 020352     188            ljmp ENDLATCH   
0352            189   ENDLATCH: 
0352            190   
0352            191   ; The code under this label has to do with timekeeping
0352            192   TIMELOGIC:       
0352            193            ; Timing logic
0352 D95A       194            djnz r1, ENDTIME
0354 7964       195            mov r1, S_TICKS         ; if we got here, that means r1 is zero
0356 DA56       196            djnz r2, ENDTIME
0358 7A64       197            mov r2, M_TICKS         ; if we got here, that means r2 is zero
035A DB52       198            djnz r3, ENDTIME
035C 7B96       199            mov r3, L_TICKS         ; if we got here, that means r3 is zero
035E            200            
035E            201            ; these lines execute once a "heartbeat"
035E B2E8       202            cpl LEDRA.0             ;flip LED to visualize heartbeat
0360            203            
0360            204            ; Think of this as a big Switch statement that finds what mode we are in
0360            205            ; Modes that have time-dependant behavior: 2, 3, 4, 5, 6
0360 B8021B     206            CJNE r0, #02, MODE3T            ; jump if r0 != byte
0363            207            ; Mode 2
0363 8DF0       208            mov b, r5 ; "temp" keep
0365            208            
0365 EC         208            mov a, r4
0366 FD         208            mov r5, a
0367 AC8F       208            mov r4, HEX5
0369 858E8F     208            mov HEX5, HEX4
036C 85948E     208            mov HEX4, HEX3
036F 859394     208            mov HEX3, HEX2
0372 859293     208            mov HEX2, HEX1
0375 859192     208            mov HEX1, HEX0
0378 85F091     208            mov HEX0, b
037B 0203AE     209            ljmp ENDTIME    
037E B8031B     210   MODE3T:  CJNE r0, #03, MODE4T            ; jump if r0 != byte 
0381            211            ; Mode 3
0381 8591F0     212            mov b, HEX0 ; "temp" keep
0384            212            
0384 859291     212            mov HEX0, HEX1
0387 859392     212            mov HEX1, HEX2
038A 859493     212            mov HEX2, HEX3
038D 858E94     212            mov HEX3, HEX4
0390 858F8E     212            mov HEX4, HEX5
0393 8C8F       212            mov HEX5, r4
0395 ED         212            mov a, r5
0396 FC         212            mov r4, a
0397 ADF0       212            mov r5, b
0399            213                    
0399 0203AE     214            ljmp ENDTIME
039C B80403     215   MODE4T:  CJNE r0, #04, MODE5T            ; jump if A != byte 
039F            216            ; Mode 4
039F            217            
039F 0203AE     218            ljmp ENDTIME
03A2 B80503     219   MODE5T:  CJNE r0, #05, MODE6T            ; jump if A != byte 
03A5            220            ; Mode 5
03A5            221   
03A5 0203AE     222            ljmp ENDTIME
03A8 B80603     223   MODE6T:  CJNE r0, #06, ENDTIME           ; jump if A != byte 
03AB            224            ; Mode 6
03AB            225   
03AB 0203AE     226            ljmp ENDTIME
03AE            227            
03AE            228   ENDTIME:
03AE            229   
03AE 02007D     230            ljmp loop ; Go back up to loop to keep repeating forever
03B1            231   END
